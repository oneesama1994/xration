/*! For license information please see component---src-templates-book-template-js-0e478e5fdc58ab282bad.js.LICENSE.txt */
(self.webpackChunkhonami=self.webpackChunkhonami||[]).push([[840],{5900:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var l in n)r.call(n,l)&&n[l]&&e.push(l);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7344:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(5861),i=n(7757),o=n.n(i),a=n(7294),l=n(1597);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var u=new Map,d=new WeakMap,h=0,p=void 0;function f(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(d.has(n)||(h+=1,d.set(n,h.toString())),d.get(n)):"0":e[t]);var n})).toString()}function m(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=p),void 0===window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=function(e){var t=f(e),n=u.get(t);if(!n){var r,i=new Map,o=new IntersectionObserver((function(t){t.forEach((function(t){var n,o=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=o),null==(n=i.get(t.target))||n.forEach((function(e){e(o,t)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:i},u.set(t,n)}return n}(n),a=o.id,l=o.observer,c=o.elements,s=c.get(e)||[];return c.has(e)||c.set(e,s),s.push(t),l.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),u.delete(a))}}var g=["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function v(e){return"function"!=typeof e.children}var w=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),v(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var i=r.prototype;return i.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},i.componentWillUnmount=function(){this.unobserve(),this.node=null},i.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,o=e.delay,a=e.fallbackInView;this._unobserveCb=m(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:o},a)}},i.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},i.render=function(){if(!v(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,i=r.children,o=r.as,l=r.tag,s=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,g);return a.createElement(o||l||"div",c({ref:this.handleNode},s),i)},r}(a.Component);w.displayName="InView",w.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var y=n(5900),b=n.n(y),k=n(3419),V=n(6059),E=n(1283);function B(e){var t=e.className;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:t},a.createElement("path",{d:"M226.37 219.76a23.68 23.68 0 00-23.65 23.65 7.5 7.5 0 1015 0 8.66 8.66 0 0117.3 0 7.5 7.5 0 1015 0 23.68 23.68 0 00-23.65-23.65z"}),a.createElement("path",{d:"M70.9 311.78c0-51.85 20.2-100.6 56.87-137.25a197.35 197.35 0 0118.49-16.3 192.56 192.56 0 01118.69-40.5h.1c54.67.03 107.11 23.63 143.86 64.74a7.5 7.5 0 1011.19-10 208.89 208.89 0 00-131.45-68.35c-6.8-32.69-21-64.3-40.34-89.58A36.8 36.8 0 00223.78.33a36.8 36.8 0 00-27.39 7.3 37.23 37.23 0 00-14.5 29 210.13 210.13 0 00-34.33-16.27c-19.48-7.11-41.11 2.52-48.22 21.48a36.78 36.78 0 001.07 28.58 37.3 37.3 0 005.03 8.02h-.17a36.79 36.79 0 00-26.69 9.55 36.8 36.8 0 00-12.12 25.63 37.08 37.08 0 0035.19 38.8 135.8 135.8 0 0124.07 3.42c-2.9 2.61-5.77 5.3-8.56 8.08A207.67 207.67 0 0055.9 311.78c0 39.73-16.47 108.57-16.63 109.26l-.1.45a77.27 77.27 0 0015.03 60.68 7.49 7.49 0 0010.53 1.33 7.5 7.5 0 001.32-10.52 62.24 62.24 0 01-12.14-48.66c1.25-5.25 17-71.82 17-112.54zm31.48-174.34a22.06 22.06 0 01-20.93-23.1 21.9 21.9 0 017.2-15.24c4.37-3.96 10.01-5.98 15.88-5.68 8.05.39 16.32 1.35 24.57 2.84a9.25 9.25 0 005.28-17.6c-2.58-1.1-5.2-2.13-7.8-3.07-5.6-2-10.06-6.08-12.56-11.48a21.89 21.89 0 01-.63-17c4.15-11.1 17.45-16.89 29.03-12.66a200.24 200.24 0 0143.9 22.73 8.62 8.62 0 0010.42-.57 8.62 8.62 0 002.2-10.2 22.14 22.14 0 016.57-26.87 21.87 21.87 0 0116.3-4.34 21.89 21.89 0 0114.59 8.46c17.15 22.42 29.96 50.26 36.62 79.25a205 205 0 00-7.96-.18h-.11c-45.65 0-89.07 14.54-124.97 41.43a154.91 154.91 0 00-37.6-6.72z"}),a.createElement("path",{d:"M346.83 327.22l.52-2.85h14.03a15.59 15.59 0 0015.38-18.4 68.18 68.18 0 00-67.14-56.1H289.9a28.67 28.67 0 00-28.63 28.63v45.81c0 8.93 3.56 17.03 9.32 22.98a100.26 100.26 0 01-16.69 30.77 25.62 25.62 0 0020 41.52c7.85 0 15.15-3.51 20.03-9.64 3.07-3.86 5.95-7.85 8.62-11.96 2.67 4.1 5.55 8.1 8.62 11.96a25.47 25.47 0 0020.03 9.64c5.76 0 11.41-1.97 15.93-5.57a25.62 25.62 0 004.07-35.95 99.96 99.96 0 01-16.34-29.73 36.61 36.61 0 0011.97-21.1zm-7.36 60.18a10.6 10.6 0 01-16.57 13.2 137.44 137.44 0 01-13.73-20.88 7.5 7.5 0 00-13.24 0c-3.88 7.28-8.5 14.3-13.74 20.87a10.54 10.54 0 01-14.87 1.69 10.6 10.6 0 01-1.69-14.88 114.4 114.4 0 0017.94-31.82c3.38 1.16 7 1.8 10.77 1.8h16.39c3.76 0 7.4-.57 10.85-1.64a114.4 114.4 0 0017.89 31.66zm-63.2-63.03h55.83l-.03.19a21.67 21.67 0 01-21.34 17.83h-16.39a18.09 18.09 0 01-18.07-18.02zm0-15V278.5c0-7.52 6.12-13.64 13.63-13.64h19.72A53.2 53.2 0 01362 308.63a.6.6 0 01-.14.51c-.18.23-.4.23-.48.23h-85.11z"}),a.createElement("path",{d:"M442.02 201.73a7.5 7.5 0 00-12.73 7.93 196.58 196.58 0 0129.7 104.05V434.9a62.18 62.18 0 01-62.1 62.1c-31.82 0-48.09-20.88-56.13-38.4a14.72 14.72 0 00-13.5-8.63h-.02a14.7 14.7 0 00-13.5 8.6c-8.1 17.53-24.42 38.43-56.06 38.43a62.25 62.25 0 01-58.5-41.22 15.25 15.25 0 00-13.2-10.15 15.26 15.26 0 00-14.74 7.73c-22.73 40.03-48.98 45.31-67.03 42.67a62.23 62.23 0 01-15.56-4.94 7.5 7.5 0 00-6.38 13.58 77.2 77.2 0 0019.64 6.18c32.09 4.76 61.34-13.03 82.38-50.08.06-.12.13-.21.4-.2.27.03.31.13.36.26A77.28 77.28 0 00257.68 512c30.78 0 55.46-16.64 69.56-46.88C341.23 495.35 365.95 512 396.9 512c42.51 0 77.1-34.59 77.1-77.1V313.7c0-39.67-11.05-78.39-31.97-111.97z"}),a.createElement("path",{d:"M386.94 250.91a7.5 7.5 0 007.5-7.5 23.68 23.68 0 00-23.65-23.65 23.68 23.68 0 00-23.66 23.65 7.5 7.5 0 1015 0 8.66 8.66 0 0117.31 0 7.5 7.5 0 007.5 7.5z"}))}function N(e){var t=e.className;return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:t},a.createElement("path",{d:"M272.07 512h-32.14a47.19 47.19 0 01-47.13-47.13V454a206.7 206.7 0 01-32.1-13.33l-7.7 7.7c-18.66 18.69-48.55 18.14-66.67 0l-22.7-22.71c-18.16-18.13-18.68-48 0-66.66l7.7-7.7A206.71 206.71 0 0158 319.2H47.13A47.19 47.19 0 010 272.07v-32.14a47.19 47.19 0 0147.13-47.13H58a206.75 206.75 0 0113.33-32.1l-7.7-7.7c-18.67-18.65-18.16-48.53 0-66.66l22.71-22.72a47.13 47.13 0 0166.67 0l7.7 7.7A206.9 206.9 0 01192.8 58V47.13A47.19 47.19 0 01239.93 0h32.14a47.19 47.19 0 0147.13 47.13V58a206.7 206.7 0 0132.1 13.33l7.7-7.7c18.66-18.69 48.55-18.14 66.67 0l22.7 22.71c18.16 18.13 18.68 48 0 66.67l-7.7 7.7A206.71 206.71 0 01454 192.8h10.87A47.19 47.19 0 01512 239.93v32.14a47.19 47.19 0 01-47.13 47.13H454a206.75 206.75 0 01-13.33 32.1l7.7 7.7c18.67 18.65 18.16 48.53 0 66.67l-22.71 22.7a47.13 47.13 0 01-66.67 0l-7.7-7.7A206.9 206.9 0 01319.2 454v10.87A47.19 47.19 0 01272.07 512zM165.72 409.17a176.81 176.81 0 0045.83 19.02 15 15 0 0111.25 14.53v22.15c0 9.44 7.69 17.13 17.13 17.13h32.14c9.44 0 17.13-7.69 17.13-17.13v-22.15a15 15 0 0111.25-14.53 176.81 176.81 0 0045.83-19.02 15 15 0 0118.25 2.3l15.69 15.7a17.13 17.13 0 0024.22 0l22.73-22.72a17.13 17.13 0 000-24.23l-15.7-15.7a15 15 0 01-2.3-18.24 176.78 176.78 0 0019.03-45.83 15 15 0 0114.52-11.25h22.15c9.44 0 17.13-7.68 17.13-17.13v-32.14c0-9.44-7.69-17.13-17.13-17.13h-22.15a15 15 0 01-14.52-11.25 176.82 176.82 0 00-19.03-45.83 15 15 0 012.3-18.24l15.7-15.7a17.13 17.13 0 000-24.22l-22.72-22.72a17.13 17.13 0 00-24.23 0l-15.7 15.69a15 15 0 01-18.24 2.3 176.81 176.81 0 00-45.83-19.02 15 15 0 01-11.25-14.53V47.13c0-9.44-7.69-17.13-17.13-17.13h-32.14a17.15 17.15 0 00-17.13 17.13v22.15a15 15 0 01-11.25 14.53 176.81 176.81 0 00-45.83 19.02 15 15 0 01-18.25-2.3l-15.68-15.7a17.13 17.13 0 00-24.23 0l-22.72 22.73a17.13 17.13 0 00-.01 24.22l15.7 15.7a15 15 0 012.3 18.24 176.78 176.78 0 00-19.02 45.83 15 15 0 01-14.53 11.25H47.13A17.15 17.15 0 0030 239.93v32.14c0 9.44 7.69 17.13 17.13 17.13h22.15a15 15 0 0114.52 11.25 176.82 176.82 0 0019.03 45.83 15 15 0 01-2.3 18.24l-15.7 15.7a17.13 17.13 0 000 24.22l22.72 22.72a17.13 17.13 0 0024.23 0l15.7-15.69c3.56-3.56 10.98-6.59 18.24-2.3z"}),a.createElement("path",{d:"M256 367.4c-61.43 0-111.4-49.97-111.4-111.4S194.57 144.6 256 144.6 367.4 194.57 367.4 256 317.43 367.4 256 367.4zm0-192.8c-44.88 0-81.4 36.52-81.4 81.4s36.52 81.4 81.4 81.4 81.4-36.52 81.4-81.4-36.52-81.4-81.4-81.4z"}))}var C=n(2594);var I="width",A="height";function M(e){var t=e.data,n=t.bookMeta,r=n.dimensions,i=n.name,o=t.bookPages,l=(0,C.Z)("reading_mode",I),c=l[0],s=l[1],u=function(){var e="undefined"!=typeof window,t=(0,a.useState)({width:e?window.innerWidth:0,height:e?window.innerHeight:0}),n=t[0],r=t[1];return(0,a.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),d=u.width,h=u.height,p=(0,a.useState)(!0),f=p[0],m=p[1];function g(e,t){var n=window.innerWidth,r=e.clientX;if(r<n/10){var i=document.getElementById("page-"+t);if(i.getBoundingClientRect().top<-5)i.scrollIntoView();else if(t>0){document.getElementById("page-"+(t-1)).scrollIntoView()}}else if(r<9*n/10)m((function(e){return!e}));else{var a=document.getElementById("page-"+t);if(a.getBoundingClientRect().top>5)a.scrollIntoView();else if(t<o.edges.length-1){document.getElementById("page-"+(t+1)).scrollIntoView()}}}return a.createElement(E.Z,null,a.createElement(O,{title:i,hidden:f,onSettingsButtonClick:function(){s(c===I?A:I)}}),o.edges.map((function(e,t){var n=e.node.publicURL,i=r[t],o=i[0],l=i[1];return a.createElement(S,{index:t,pageHeight:l,pageWidth:o,publicURL:n,readingMode:c,windowHeight:h,windowWidth:d,onPageClick:g,key:n})})))}function O(e){var t,n=e.title,r=e.hidden,i=e.onSettingsButtonClick,o=b()("BookTemplate-module--header--4udBQ",((t={})["BookTemplate-module--headerHidden--HHAj3"]=r,t));return a.createElement("div",{className:o},a.createElement("div",{className:"BookTemplate-module--headerLeftSection--fHNou"},a.createElement(l.Link,{to:"/",className:"BookTemplate-module--headerBackLink--pFjGl"},a.createElement(B,{className:"BookTemplate-module--headerBackIcon--0k6rd"})),a.createElement("div",null,a.createElement("p",{className:"BookTemplate-module--headerTitle--Ba0Qi"},n))),a.createElement("div",{className:"BookTemplate-module--headerRightSection--hPdRu"},a.createElement("button",{className:"BookTemplate-module--headerButton--AOZcV",onClick:i},a.createElement(N,{className:"BookTemplate-module--headerIcon--0XrgX"}))))}function S(e){var t,n=e.index,i=e.pageHeight,l=e.pageWidth,c=e.publicURL,s=e.readingMode,u=e.windowHeight,d=e.windowWidth,h=e.onPageClick,p=(0,a.useState)(null),f=p[0],g=p[1],v=(0,a.useState)(null),w=v[0],y=v[1],E=(0,a.useRef)(!1),B=function(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,i=t.trackVisibility,o=t.rootMargin,l=t.root,c=t.triggerOnce,s=t.skip,u=t.initialInView,d=t.fallbackInView,h=a.useRef(),p=a.useState({inView:!!u}),f=p[0],g=p[1],v=a.useCallback((function(e){void 0!==h.current&&(h.current(),h.current=void 0),s||e&&(h.current=m(e,(function(e,t){g({inView:e,entry:t}),t.isIntersecting&&c&&h.current&&(h.current(),h.current=void 0)}),{root:l,rootMargin:o,threshold:n,trackVisibility:i,delay:r},d))}),[Array.isArray(n)?n.toString():n,l,o,c,s,i,d,r]);(0,a.useEffect)((function(){h.current||!f.entry||c||s||g({inView:!!u})}));var w=[v,f.inView,f.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}({rootMargin:2.5*u+"px 0px "+3.5*u+"px"}),N=B.ref,C=B.inView;(0,a.useEffect)((function(){function e(){return(e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,V.d)(c,1e3,5);case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:n=e.sent,g((0,k.nN)(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}C&&!E.current&&(!function(){e.apply(this,arguments)}(),E.current=!0)}),[C]),(0,a.useEffect)((function(){return C&&y((0,k.T4)(f)),function(){null!=w&&URL.revokeObjectURL(w)}}),[f,C]);var I=u/d,M=i/l,O=s!==A,S=b()("BookTemplate-module--page--767ks",((t={})["BookTemplate-module--pageSpanWidth--NH2X7"]=O,t["BookTemplate-module--pageSpanHeight--+tUNP"]=!O,t));return a.createElement("div",{className:S,id:"page-"+n,ref:N,onClick:function(e){return h(e,n)}},a.createElement("div",{className:"BookTemplate-module--pageWrapper--oPmzd",style:O?void 0:{width:M<I?"100%":100/M+"vh"}},O?a.createElement("div",{className:"BookTemplate-module--pagePadding--vQxtc",style:{paddingTop:100*M+"%"}}):null,C?a.createElement("img",{id:"page-image-"+n,className:"BookTemplate-module--pageImage--jAHaD",src:w}):null))}}}]);
//# sourceMappingURL=component---src-templates-book-template-js-0e478e5fdc58ab282bad.js.map